# 路由协议的分类

1. BGP属于外部网关协议
2. BGP属于路径矢量路由协议

# AS号

运行BGP的路由器必须有一个AS号,并且只有一个. AS号是由国际组织IANA分配的
公有AS号: 1~64511
私有AS号: 64512~65535
目前使用的1~65535都叫2字节AS号
因为2字节AS号不能满足使用, 后来有推出了4字节AS号

# BGP的工作特点

1. BGP基于TCP目的端口179工作,是工作在应用层
2. 如果邻居和自己的AS号一致, 那么建立的邻居叫IBGP邻居
	 如果邻居和自己的AS号不一致, 那么建立的邻居叫做EBGP邻居

# IBGP和EBGP建立邻居的常规操作

**IBGP邻居建立时通常使用环回接口作为收发报文接口**
**EBGP邻居建立时通常使用直连接口作为收发报文接口**
IBGP建立邻居时报文中TTL默认为255, 所以可以跨越多条建立邻居
EBGP建立邻居时报文中TTL默认为1, 所以建议使用直联接口
(但是这个TTL可以手动更改：[AR4-bgp]peer 34.1.1.3 ebgp-max-hop)

# BGP的router-id

1. 人为手动指定
2. 自动选举(如果没有人为手动指定,那么将会选择路由器的全局router id)
BGP的router-id和OSPF一样,代表唯一一台BGP路由器

# BGP的更新方式

1. 触发更新
2. 管理手动更新
	<AR4>refresh bgp all import //从所有邻居更新一份最新的路由给我
    <AR4>refresh bgp all export //我给所有邻居更新一份我最新的路由

